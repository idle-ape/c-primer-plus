## 1.4 计算机能做什么
现代的计算机由多种部件构成。`中央处理单元(CPU)`承担绝大部分的运算工作。`随机存取内存(RAM)`是存储程序和文件的工作区;而`永久内存存储设备`(过去一般指机械硬盘，现在还包括固态硬盘)即使在关闭计算机后，也不会丢失之前储存的程序和文件。另外，还有各种外围设备(如， 键盘、鼠标、触摸屏、监视器)提供人与计算机之间的交互。CPU负责处理 程序，接下来我们重点讨论它的工作原理。

CPU 的工作非常简单，至少从以下简短的描述中看是这样。它从内存中获取并执行一条指令，然后再从内存中获取并执行下一条指令，诸如此类 (一个吉赫兹的CPU一秒钟能重复这样的操作大约十亿次，因此，CPU 能以 惊人的速度从事枯燥的工作)。CPU 有自己的小工作区——由若干个`寄存器`组成，每个寄存器都可以储存一个数字。一个`寄存器储存下一条指令的内存地址`，CPU 使用该地址来获取和更新下一条指令。在获取指令后，CPU在另一个寄存器中储存该指令，并更新第1个寄存器储存下一条指令的地址。 CPU能理解的指令有限(这些指令的集合叫作指令集)。而且，这些指令相当具体，其中的许多指令都是用于请求计算机把一个数字从一个位置移动到 另一个位置。例如，从内存移动到寄存器。


## 1.8.1 目标代码文件、可执行文件和库文件

#### 编译器的作用
C编程的基本策略是，用程序把源代码文件转换为可执行文件(其中包 含可直接运行的机器语言代码)。

典型的C实现通过`编译`和`链接`两个步骤来完成这一过程。编译器把`源代码`转换成`中间代码`，`链接器`把`中间代码`和`其他代码`合并，生成`可执行文件`。C 使用这种分而治之的方法方便对程序进行模块化，可以独立编译单独的模块，稍后再用链接器合并已编译的模块。通过这种方式，如果只更改某个模块，不必因此重新编译其他模块。另外，链接器还将你编写的程序和预编译的库代码合并。

#### 目标文件
中间文件有多种形式。我们在这里描述的是最普遍的一种形式，即把源代码转换为机器语言代码，并把结果放在目标代码文件(或简称目标文件)中(这里假设源代码只有一个文件)。虽然目标文件中包含机器语言代码，但是并不能直接运行该文件。因为目标文件中储存的是编译器翻译的源代码，这还不是一个完整的程序。

目标代码文件缺失`启动代码(startup code)`。启动代码充当着程序和操作系统之间的接口。例如，可以在MS Windows或Linux系统下运行IBM PC兼 容机。这两种情况所使用的硬件相同，所以目标代码相同，但是Windows和Linux所需的启动代码不同，因为这些系统处理程序的方式不同。

目标代码还缺少`库函数`。几乎所有的C程序都要使用C标准库中的函数。例如，concrete.c中就使用了 printf()函数。目标代码文件并不包含该函数的代码，它只包含了使用 printf()函数的指令。printf()函数真正的代码储存 在另一个被称为库的文件中。库文件中有许多函数的目标代码。

#### 链接器的作用
链接器的作用是，把你编写的目标代码、系统的标准启动代码和库代码这3部分合并成一个文件，即可执行文件。对于库代码，链接器只会把程序中要用到的库函数代码提取出来。

简而言之，目标文件和可执行文件都由机器语言指令组成的。然而，目标文件中只包含编译器为你编写的代码翻译的机器语言代码，可执行文件中还包含你编写的程序中使用的库函数和启动代码的机器代码。在有些系统中，必须分别运行编译程序和链接程序，而在另一些系统中，编译器会自动启动链接器，用户只需给出编译命令即可。


